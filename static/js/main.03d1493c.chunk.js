(this["webpackJsonpbetter-snake"]=this["webpackJsonpbetter-snake"]||[]).push([[0],{11:function(i,e,t){"use strict";t.r(e);var r,n=t(0),l=t(3),a=t(4),o=t(5),c={gridSize:20,tileSizeMultiplier:.9,get tileSize(){return this.gridSize*this.tileSizeMultiplier}},y={playerPosition:{x:c.gridSize/2,y:c.gridSize/2},applePosition:{x:Math.floor(Math.random()*c.tileSize),y:Math.floor(Math.random()*c.tileSize)},trail:[{x:10,y:10}],tailSize:5};!function(i){i[i.EASY=.95]="EASY",i[i.MEDIUM=.9]="MEDIUM",i[i.HARD=.8]="HARD"}(r||(r={}));var S=t(1),f={37:{x:-1,y:0},38:{x:0,y:-1},39:{x:1,y:0},40:{x:0,y:1}},s=function(i,e){var t=e.keyCode;f[t]&&i(f[t])};function u(){var i=n.useRef(null),e=n.useState((function(){return function(){}})),t=Object(a.a)(e,2),l=t[0],f=t[1];return n.useLayoutEffect((function(){if(i.current){var e=i.current,t=i.current.getContext("2d");if(t){var n=function(i,e,t,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(i){},l={x:0,y:0},a=function(i){l=i},S=1e3/6,f=Date.now(),s=Object(o.a)({},y),u=function e(t,r,n){requestAnimationFrame((function(){return e(t,r,n)}));var a=Date.now(),o=a-f;if(o>S){f=a-o%S,r.fillStyle="black",r.fillRect(0,0,t.width,t.height);var y=s,u=y.playerPosition,d=u.x,g=u.y,z=y.trail,x=y.applePosition,h=x.x,p=x.y,v=y.tailSize,M={x:d+l.x,y:g+l.y};M.x<0&&(M.x=c.gridSize-1),M.x>c.gridSize-1&&(M.x=0),M.y<0&&(M.y=c.gridSize-1),M.y>c.gridSize-1&&(M.y=0),r.fillStyle="lime";for(var b=v,m=0;m<z.length;m++)r.fillRect(z[m].x*c.gridSize,z[m].y*c.gridSize,c.tileSize,c.tileSize),z[m].x===M.x&&z[m].y===M.y&&(b=5,S=1e3/6);var O=h===M.x&&p===M.y;O&&(b++,S*=i);var j={playerPosition:M,trail:JSON.stringify(z[z.length-1])!==JSON.stringify(M)?z.concat(M).slice(-b):z,applePosition:O?{x:Math.floor(Math.random()*c.gridSize),y:Math.floor(Math.random()*c.gridSize)}:{x:h,y:p},tailSize:b};r.fillStyle="red",r.fillRect(h*c.gridSize,p*c.gridSize,c.tileSize,c.tileSize),JSON.stringify(s)!==JSON.stringify(j)&&(s=j,n(j))}};return u(t,r,n),{setVelocity:a}}(r.MEDIUM,5,e,t);f((function(){return n.setVelocity}))}}}),[]),Object(S.jsx)("div",{className:"snake",onKeyDown:s.bind(null,l),tabIndex:1,children:Object(S.jsx)("canvas",{ref:i,width:20*c.gridSize,height:20*c.gridSize})})}var d=document.getElementById("root");Object(l.render)(Object(S.jsx)(u,{}),d)}},[[11,1,2]]]);
//# sourceMappingURL=main.03d1493c.chunk.js.map
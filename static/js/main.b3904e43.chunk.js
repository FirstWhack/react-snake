(this["webpackJsonpbetter-snake"]=this["webpackJsonpbetter-snake"]||[]).push([[0],{10:function(e,i,t){"use strict";t.r(i);var r,n=t(0),a=t(2),l=t(3),o=t(4),c={gridSize:20,tileSizeMultiplier:.9,get tileSize(){return this.gridSize*this.tileSizeMultiplier}},s={playerPosition:{x:c.gridSize/2,y:c.gridSize/2},applePosition:{x:Math.floor(Math.random()*c.tileSize),y:Math.floor(Math.random()*c.tileSize)},trail:[{x:10,y:10}],tailSize:5};!function(e){e[e.EASY=.95]="EASY",e[e.MEDIUM=.9]="MEDIUM",e[e.HARD=.8]="HARD"}(r||(r={}));var y=function(e,i){switch(i.keyCode){case 37:e({x:-1,y:0});break;case 38:e({x:0,y:-1});break;case 39:e({x:1,y:0});break;case 40:e({x:0,y:1})}};function S(){var e=n.useRef(null),i=n.useState((function(){return function(){}})),t=Object(l.a)(i,2),a=t[0],S=t[1];return n.useLayoutEffect((function(){if(e.current){var i=e.current,t=e.current.getContext("2d");if(t){var n=function(e,i,t,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){},a={x:0,y:0},l=function(e){a=e},y=1e3/6,S=Date.now(),f=Object(o.a)({},s),u=function i(t,r,n){requestAnimationFrame((function(){return i(t,r,n)}));var l=Date.now(),o=l-S;if(o>y){S=l-o%y,r.fillStyle="black",r.fillRect(0,0,t.width,t.height);var s=f,u=s.playerPosition,d=u.x,g=u.y,z=s.trail,x=s.applePosition,h=x.x,p=x.y,M=s.tailSize,v={x:d+a.x,y:g+a.y};v.x<0&&(v.x=c.gridSize-1),v.x>c.gridSize-1&&(v.x=0),v.y<0&&(v.y=c.gridSize-1),v.y>c.gridSize-1&&(v.y=0),r.fillStyle="lime";for(var b=M,m=0;m<z.length;m++)r.fillRect(z[m].x*c.gridSize,z[m].y*c.gridSize,c.tileSize,c.tileSize),z[m].x===v.x&&z[m].y===v.y&&(b=5,y=1e3/6);var k=h===v.x&&p===v.y;k&&(b++,y*=e);var E={playerPosition:v,trail:JSON.stringify(z[z.length-1])!==JSON.stringify(v)?z.concat(v).slice(-b):z,applePosition:k?{x:Math.floor(Math.random()*c.gridSize),y:Math.floor(Math.random()*c.gridSize)}:{x:h,y:p},tailSize:b};r.fillStyle="red",r.fillRect(h*c.gridSize,p*c.gridSize,c.tileSize,c.tileSize),JSON.stringify(f)!==JSON.stringify(E)&&(f=E,n(E))}};return u(t,r,n),{setVelocity:l}}(r.MEDIUM,5,i,t);S((function(){return n.setVelocity}))}}}),[]),n.createElement("div",{className:"snake",onKeyDown:y.bind(null,a),tabIndex:1},n.createElement("canvas",{ref:e,width:20*c.gridSize,height:20*c.gridSize}))}var f=document.getElementById("root");Object(a.render)(n.createElement(S,null),f)},5:function(e,i,t){e.exports=t(10)}},[[5,1,2]]]);
//# sourceMappingURL=main.b3904e43.chunk.js.map